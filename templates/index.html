<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ilmailun poikkeamailmoitus (PoC)</title>
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css">
    <style>
        /* CSS ennallaan */
        :root { --main-color: #003975; --action-color: #0064af; --bg-grey: #f5f5f5; --text-main: #333; --white: #fff; --border-color: #8c8c8c; }
        body { font-family: 'Source Sans Pro', Arial, sans-serif; background-color: var(--bg-grey); color: var(--text-main); margin: 0; padding: 0; line-height: 1.5; }
        header { background-color: var(--white); border-bottom: 1px solid #e1e1e1; padding: 20px 0; }
        .header-inner { max-width: 960px; margin: 0 auto; padding: 0 20px; display: flex; align-items: center; }
        .logo { font-weight: 700; font-size: 24px; color: var(--main-color); text-transform: uppercase; }
        .main-content { max-width: 800px; margin: 40px auto; background: var(--white); padding: 50px; box-shadow: 0 1px 3px rgba(0,0,0,0.05); border-radius: 2px; }
        h1 { color: var(--main-color); font-size: 34px; font-weight: 300; margin-top: 0; margin-bottom: 25px; }
        .form-section { margin-bottom: 30px; }
        label { display: block; font-weight: 700; margin-bottom: 8px; color: var(--main-color); font-size: 16px; }
        .help-text { font-size: 14px; color: #555; margin-bottom: 8px; display: block; }
        input, select, textarea { width: 100%; padding: 12px 15px; border: 1px solid var(--border-color); box-sizing: border-box; font-size: 16px; font-family: 'Source Sans Pro', sans-serif; }
        textarea { min-height: 180px; resize: vertical; }
        .choices { width: 100%; margin-bottom: 0; }
        .choices__inner { background-color: #fff; border: 1px solid var(--border-color); border-radius: 0; min-height: 48px; box-sizing: border-box; }
        .choices__input { background-color: transparent; margin-bottom: 0; }
        .choices__list--dropdown { z-index: 100; word-break: break-word; }
        .row { display: flex; gap: 20px; margin-bottom: 25px; } .col { flex: 1; min-width: 0; }
        @media (max-width: 600px) { .row { flex-direction: column; } .main-content { padding: 20px; margin: 0; } }
        .btn-submit { background-color: var(--main-color); color: var(--white); border: none; padding: 15px 40px; font-size: 18px; font-weight: 600; cursor: pointer; width: 100%; margin-top: 20px; }
        .poc-alert { background-color: #fff3cd; color: #856404; padding: 15px; border: 1px solid #ffeeba; margin-bottom: 30px; border-radius: 4px; }
        .lang-switch { text-align: right; margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 10px; }
        .lang-switch a { text-decoration: none; color: var(--action-color); font-weight: 600; margin: 0 5px; }
        .lang-switch span.active { font-weight: 700; color: #333; margin: 0 5px; border-bottom: 2px solid var(--main-color); }
        footer { background-color: var(--main-color); color: var(--white); padding: 40px 0; margin-top: 60px; text-align: center; }
    </style>
</head>
<body>

<header>
    <div class="header-inner">
        <div class="logo">AVIATION REPORTING</div>
        <span style="margin-left: 15px; border-left: 1px solid #ccc; padding-left: 15px; color: #666; font-size: 12px;">PoC / Testiympäristö</span>
    </div>
</header>

<div class="main-content">
    <div class="lang-switch">
        <span class="active">Suomi</span> | <a href="/sv">Svenska</a> | <a href="/sme">Davvisámegiella</a>
    </div>

    <h1>Ilmoita ilmailun poikkeamasta</h1>
    
    <div class="poc-alert">
        <strong>HUOM (PoC):</strong> Tämä on epävirallinen testiversio.
    </div>

    <form action="/generate" method="POST">
        <div class="form-section">
            <label for="headline">Otsikko</label>
            <input type="text" id="headline" name="headline" placeholder="Esim. Linnun törmäys laskussa" required>
        </div>
        
        <div class="form-section">
            <label for="severity">Vakavuusluokka</label>
            <select id="severity" name="severity">
                <option value="300" selected>Poikkeama (Incident)</option>
                <option value="200">Vakava vaaratilanne (Serious incident)</option>
                <option value="100">Onnettomuus (Accident)</option>
                <option value="501">Havainto (Observation)</option>
                <option value="500">Ei määritetty (Not determined)</option>
            </select>
        </div>

        <div class="row">
            <div class="col">
                <label for="time">Tapahtuma-aika</label>
                <input type="datetime-local" id="time" name="time" required>
            </div>
            <div class="col">
                <label for="location">Tapahtumapaikka</label>
                <input type="text" id="location" name="location" placeholder="Esim. EFHK" required>
            </div>
        </div>

        <div class="row">
            <div class="col">
                <label for="reg">Rekisteritunnus</label>
                <input type="text" id="reg" name="reg" placeholder="OH-ABC">
            </div>
            
            <div class="col">
                <label for="category">Tapahtumaluokka (Category)</label>
                <span class="help-text" style="font-size: 12px; margin-bottom: 5px;">Voit valita useita.</span>
                <select id="category" name="category" multiple>
                    <option value="24">ADRM - Lentopaikan toimintaan liittyvä</option>
                    <option value="1">AMAN - Äkillinen väistöliike</option>
                    <option value="2">ARC - Epänormaali kosketus kiitotiehen</option>
                    <option value="29">BIRD - Lintutörmäys</option>
                    <option value="3">CFIT - Ohjattavissa olevan ilma-aluksen törmäys maastoon</option>
                    <option value="102">CTOL - Törmäys esteeseen (nousu/lasku)</option>
                    <option value="5">F-NI - Tulipalo/savu (ei onnettomuus)</option>
                    <option value="7">FUEL - Polttoaineen loppuminen / laatu</option>
                    <option value="9">GCOL - Yhteentörmäys rullauksen aikana</option>
                    <option value="104">GTOW - Hinaustoimintaan liittyvä</option>
                    <option value="10">ICE - Ilma-aluksen pintojen jäätyminen</option>
                    <option value="11">LALT - Läheltä piti-tilanne matalalennon aikana</option>
                    <option value="12">LOC-G - Hallinnan menetys maassa</option>
                    <option value="13">LOC-I - Hallinnan menetys ilmassa</option>
                    <option value="103">LOLI - Nosteen menetys</option>
                    <option value="14">MAC - Läheltä piti-tilanne tai yhteentörmäys ilmassa</option>
                    <option value="105">MED - Sairastapaus</option>
                    <option value="106">NAV - Navigointivirhe</option>
                    <option value="98">OTHR - Muu tapahtuma</option>
                    <option value="8">RAMP - Maahuolinta</option>
                    <option value="15">RE - Kiitotieltä suistuminen</option>
                    <option value="28">RI - Kiitotiepoikkeama</option>
                    <option value="18">SCF-NP - Järjestelmävika (ei moottori)</option>
                    <option value="19">SCF-PP - Moottorivika</option>
                    <option value="20">SEC - Turva-asia (Security)</option>
                    <option value="21">TURB - Turbulenssiin joutuminen lennon aikana</option>
                    <option value="100">UIMC - Tahaton joutuminen IMC:hen</option>
                    <option value="99">UNK - Tuntematon</option>
                    <option value="22">USOS - Laskeutuminen ennen kiitotietä / sen jälkeen</option>
                    <option value="27">WILD - Eläintörmäys</option>
                    <option value="23">WSTRW - Vaarallisiin sääilmiöihin lentäminen</option>
                </select>
            </div>
        </div>

        <div style="border-top: 1px solid #eee; padding-top: 20px; margin-top: 20px;">
            <label style="margin-bottom: 15px; color: #333;">Lennon tiedot (vapaaehtoinen)</label>
            
            <div class="row">
                <div class="col">
                    <label for="ac_category" style="font-size: 14px;">Ilma-aluksen luokka</label>
                    <select id="ac_category" name="ac_category">
                        <option value="" selected>-</option>
                        <option value="16">Lentokone</option>
                        <option value="15">Lentokone (LSA)</option>
                        <option value="27">Ultrakevyt lentokone</option>
                        <option value="29">Helikopteri</option>
                        <option value="30">Gyrokopteri</option>
                        <option value="75">Purjelentokone</option>
                        <option value="21">Moottoroitu purjelentokone</option>
                        <option value="6">Drone tai lennokki</option>
                        <option value="49">Riippuliidin</option>
                        <option value="50">Varjoliidin</option>
                        <option value="43">Kuumailmapallo</option>
                        <option value="4">Muu</option>
                        <option value="7">Ei tiedossa</option>
                    </select>
                </div>

                <div class="col">
                    <label for="op_type" style="font-size: 14px;">Operaatiotyyppi</label>
                    <select id="op_type" name="op_type">
                        <option value="" selected>-</option>
                        <optgroup label="Huvilento">
                            <option value="52">Huvilento / Matkalento (Cross Country)</option>
                            <option value="53">Huvilento / Paikallislento (Local)</option>
                            <option value="54">Huvilento / Muu</option>
                        </optgroup>
                        <optgroup label="Koululento">
                            <option value="47">Koululento / Opettajan kanssa (Dual)</option>
                            <option value="49">Koululento / Yksinlento (Solo)</option>
                            <option value="46">Koululento / Tarkastuslento (Check)</option>
                            <option value="40">Koululento / Tuntematon</option>
                        </optgroup>
                        <optgroup label="Ei-kaupallinen">
                            <option value="33">Ei-kaupallinen / Esittelylento</option>
                            <option value="38">Ei-kaupallinen / Koelento</option>
                            <option value="39">Ei-kaupallinen / Muu</option>
                        </optgroup>
                        <optgroup label="Ansiolento">
                            <option value="26">Laskuvarjohyppytoiminta</option>
                            <option value="28">Hinaus</option>
                        </optgroup>
                    </select>
                </div>
            </div>

            <div class="row">
                <div class="col">
                    <label for="phase" style="font-size: 14px;">Lentovaihe</label>
                    <select id="phase" name="phase">
                        <option value="" selected>-</option>
                        <option value="1">Paikoillaan (Standing)</option>
                        <option value="2">Rullaus (Taxi)</option>
                        <option value="3">Lentoonlähtö (Take-off)</option>
                        <option value="4">Matkalento (En route)</option>
                        <option value="5">Lentoliikkeiden aikana (Maneuvering)</option>
                        <option value="6">Lähestyminen (Approach)</option>
                        <option value="7">Lasku (Landing)</option>
                        <option value="8">Onnettomuuden jälkeinen (Post-impact)</option>
                        <option value="100">Hinaus (Tow)</option>
                        <option value="99">Tuntematon (Unknown)</option>
                    </select>
                </div>
            </div>
            
            <div class="row">
                <div class="col">
                    <label for="departure" style="font-size: 14px;">Lähtökenttä</label>
                    <select id="departure" name="departure">
                        <option value="" selected>-</option>
                        <option value="67001">EFAA - Aavahelukka</option>
                        <option value="67002">EFAH - Ahmosuo</option>
                        <option value="67003">EFAL - Alavus</option>
                        <option value="67004">EFET - Enontekiö</option>
                        <option value="67005">EFEU - Eura</option>
                        <option value="67006">EFFO - Forssa</option>
                        <option value="67007">EFHI - Haapamäki</option>
                        <option value="67008">EFHP - Haapavesi</option>
                        <option value="67010">EFHA - Halli (Jämsä)</option>
                        <option value="67009">EFHL - Hailuoto</option>
                        <option value="67011">EFHM - Hämeenkyrö</option>
                        <option value="67012">EFHN - Hanko</option>
                        <option value="67013">EFKL - Helsinki (Met Institute)</option>
                        <option value="67014">EFHF - Helsinki-Malmi</option>
                        <option value="67015">EFHK - Helsinki-Vantaa</option>
                        <option value="67016">EFHV - Hyvinkää</option>
                        <option value="67017">EFII - Iisalmi</option>
                        <option value="67019">EFIM - Immola</option>
                        <option value="67020">EFIV - Ivalo</option>
                        <option value="67021">EFJP - Jäkäläpää</option>
                        <option value="67022">EFJM - Jämijärvi</option>
                        <option value="67023">EFJO - Joensuu</option>
                        <option value="67024">EFJY - Jyväskylä</option>
                        <option value="67025">EFKI - Kajaani</option>
                        <option value="67026">EFKR - Kärsämäki</option>
                        <option value="67027">EFKJ - Kauhajoki</option>
                        <option value="67028">EFKA - Kauhava</option>
                        <option value="67029">EFKE - Kemi-Tornio</option>
                        <option value="67030">EFKM - Kemijärvi</option>
                        <option value="67031">EFIK - Kiikala</option>
                        <option value="67032">EFIT - Kitee</option>
                        <option value="67033">EFKT - Kittilä</option>
                        <option value="67034">EFRV - Kiuruvesi</option>
                        <option value="67035">EFKV - Kivijärvi</option>
                        <option value="67036">EFKK - Kruunupyy</option>
                        <option value="67037">EFKH - Kuhmo</option>
                        <option value="67038">EFKG - Kumlinge</option>
                        <option value="67039">EFKU - Kuopio</option>
                        <option value="67040">EFKS - Kuusamo</option>
                        <option value="67041">EFKY - Kymi</option>
                        <option value="67042">EFLA - Lahti-Vesivehmaa</option>
                        <option value="67043">EFLP - Lappeenranta</option>
                        <option value="67044">EFMN - Mäntsälä</option>
                        <option value="67045">EFMA - Maarianhamina</option>
                        <option value="67046">EFMP - Martiniiskonpalo</option>
                        <option value="67047">EFME - Menkijärvi</option>
                        <option value="67048">EFMI - Mikkeli</option>
                        <option value="67049">EFNU - Nummela</option>
                        <option value="67050">EFNS - Nurmes</option>
                        <option value="67051">EFOR - Oripää</option>
                        <option value="67056">EFOU - Oulu</option>
                        <option value="67061">EFPK - Pieksämäki</option>
                        <option value="67062">EFPI - Piikajärvi</option>
                        <option value="67063">EFPN - Pokka</option>
                        <option value="67064">EFPB - Pori</option>
                        <option value="67065">EFPU - Pudasjärvi</option>
                        <option value="67066">EFPK - Punkaharju</option>
                        <option value="67067">EFPY - Pyhäjoki</option>
                        <option value="67068">EFRH - Raahe-Pattijoki</option>
                        <option value="67069">EFRN - Ranua</option>
                        <option value="67070">EFRU - Rautavaara</option>
                        <option value="67071">EFRA - Räyskälä</option>
                        <option value="67073">EFRO - Rovaniemi</option>
                        <option value="67074">EFSA - Savonlinna</option>
                        <option value="67075">EFSE - Selänpää</option>
                        <option value="67076">EFSI - Seinäjoki</option>
                        <option value="67077">EFSO - Sodankylä</option>
                        <option value="67078">EFSL - Sulkaharju</option>
                        <option value="67079">EFSU - Suomussalmi</option>
                        <option value="67086">EFTP - Tampere-Pirkkala</option>
                        <option value="67087">EFTV - Teisko</option>
                        <option value="67088">EFTO - Torbacka</option>
                        <option value="67090">EFTU - Turku</option>
                        <option value="67092">EFUT - Utti</option>
                        <option value="67093">EFVA - Vaasa</option>
                        <option value="67094">EFVR - Varkaus</option>
                        <option value="67095">EFVT - Viitasaari</option>
                        <option value="67096">EFVU - Vuotso</option>
                        <option value="67097">EFYL - Ylivieska</option>
                        <option value="67000">Muu Suomi (Other)</option>
                        <option value="998000">Muualla kuin Suomessa</option>
                    </select>
                </div>
                <div class="col">
                    <label for="destination" style="font-size: 14px;">Määräkenttä</label>
                    <select id="destination" name="destination">
                        <option value="" selected>-</option>
                        <option value="67001">EFAA - Aavahelukka</option>
                        <option value="67002">EFAH - Ahmosuo</option>
                        <option value="67003">EFAL - Alavus</option>
                        <option value="67004">EFET - Enontekiö</option>
                        <option value="67005">EFEU - Eura</option>
                        <option value="67006">EFFO - Forssa</option>
                        <option value="67007">EFHI - Haapamäki</option>
                        <option value="67008">EFHP - Haapavesi</option>
                        <option value="67010">EFHA - Halli (Jämsä)</option>
                        <option value="67009">EFHL - Hailuoto</option>
                        <option value="67011">EFHM - Hämeenkyrö</option>
                        <option value="67012">EFHN - Hanko</option>
                        <option value="67013">EFKL - Helsinki (Met Institute)</option>
                        <option value="67014">EFHF - Helsinki-Malmi</option>
                        <option value="67015">EFHK - Helsinki-Vantaa</option>
                        <option value="67016">EFHV - Hyvinkää</option>
                        <option value="67017">EFII - Iisalmi</option>
                        <option value="67019">EFIM - Immola</option>
                        <option value="67020">EFIV - Ivalo</option>
                        <option value="67021">EFJP - Jäkäläpää</option>
                        <option value="67022">EFJM - Jämijärvi</option>
                        <option value="67023">EFJO - Joensuu</option>
                        <option value="67024">EFJY - Jyväskylä</option>
                        <option value="67025">EFKI - Kajaani</option>
                        <option value="67026">EFKR - Kärsämäki</option>
                        <option value="67027">EFKJ - Kauhajoki</option>
                        <option value="67028">EFKA - Kauhava</option>
                        <option value="67029">EFKE - Kemi-Tornio</option>
                        <option value="67030">EFKM - Kemijärvi</option>
                        <option value="67031">EFIK - Kiikala</option>
                        <option value="67032">EFIT - Kitee</option>
                        <option value="67033">EFKT - Kittilä</option>
                        <option value="67034">EFRV - Kiuruvesi</option>
                        <option value="67035">EFKV - Kivijärvi</option>
                        <option value="67036">EFKK - Kruunupyy</option>
                        <option value="67037">EFKH - Kuhmo</option>
                        <option value="67038">EFKG - Kumlinge</option>
                        <option value="67039">EFKU - Kuopio</option>
                        <option value="67040">EFKS - Kuusamo</option>
                        <option value="67041">EFKY - Kymi</option>
                        <option value="67042">EFLA - Lahti-Vesivehmaa</option>
                        <option value="67043">EFLP - Lappeenranta</option>
                        <option value="67044">EFMN - Mäntsälä</option>
                        <option value="67045">EFMA - Maarianhamina</option>
                        <option value="67046">EFMP - Martiniiskonpalo</option>
                        <option value="67047">EFME - Menkijärvi</option>
                        <option value="67048">EFMI - Mikkeli</option>
                        <option value="67049">EFNU - Nummela</option>
                        <option value="67050">EFNS - Nurmes</option>
                        <option value="67051">EFOR - Oripää</option>
                        <option value="67056">EFOU - Oulu</option>
                        <option value="67061">EFPK - Pieksämäki</option>
                        <option value="67062">EFPI - Piikajärvi</option>
                        <option value="67063">EFPN - Pokka</option>
                        <option value="67064">EFPB - Pori</option>
                        <option value="67065">EFPU - Pudasjärvi</option>
                        <option value="67066">EFPK - Punkaharju</option>
                        <option value="67067">EFPY - Pyhäjoki</option>
                        <option value="67068">EFRH - Raahe-Pattijoki</option>
                        <option value="67069">EFRN - Ranua</option>
                        <option value="67070">EFRU - Rautavaara</option>
                        <option value="67071">EFRA - Räyskälä</option>
                        <option value="67073">EFRO - Rovaniemi</option>
                        <option value="67074">EFSA - Savonlinna</option>
                        <option value="67075">EFSE - Selänpää</option>
                        <option value="67076">EFSI - Seinäjoki</option>
                        <option value="67077">EFSO - Sodankylä</option>
                        <option value="67078">EFSL - Sulkaharju</option>
                        <option value="67079">EFSU - Suomussalmi</option>
                        <option value="67086">EFTP - Tampere-Pirkkala</option>
                        <option value="67087">EFTV - Teisko</option>
                        <option value="67088">EFTO - Torbacka</option>
                        <option value="67090">EFTU - Turku</option>
                        <option value="67092">EFUT - Utti</option>
                        <option value="67093">EFVA - Vaasa</option>
                        <option value="67094">EFVR - Varkaus</option>
                        <option value="67095">EFVT - Viitasaari</option>
                        <option value="67096">EFVU - Vuotso</option>
                        <option value="67097">EFYL - Ylivieska</option>
                        <option value="67000">Muu Suomi (Other)</option>
                        <option value="998000">Muualla kuin Suomessa</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="form-section" style="margin-top: 20px;">
            <label for="event_type">Tapahtumatyyppi</label>
            <span class="help-text" style="font-size: 12px;">Voit valita useita.</span>
            <select id="event_type" name="event_type" multiple>
                <option value="2010000">Ilma-aluksen käsittely (Aircraft Handling)</option>
                <option value="2180000">Ilma-alusten välinen läheltä piti -tilanne (Airborne Conflict)</option>
            </select>
        </div>

        <div class="form-section">
            <label for="narrative">Tapahtuman kuvaus</label>
            <textarea id="narrative" name="narrative" placeholder="Kirjoita kuvaus tähän..." required></textarea>
        </div>

        <div class="form-section">
            <label for="contact">Sähköposti</label>
            <input type="email" id="contact" name="contact" placeholder="nimi@esimerkki.fi">
        </div>

        <button type="submit" class="btn-submit">Lähetä ilmoitus</button>
    </form>
</div>

<footer><div class="footer-content">&copy; 2024 PoC Team</div></footer>

<script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const categorySelect = new Choices('#category', {
            removeItemButton: true,
            placeholderValue: 'Valitse luokka...',
            searchPlaceholderValue: 'Etsi...',
            itemSelectText: '',
        });
        
        const eventSelect = new Choices('#event_type', {
            removeItemButton: true,
            placeholderValue: 'Valitse tapahtuma...',
            itemSelectText: '',
        });
    });
</script>

</body>
</html>